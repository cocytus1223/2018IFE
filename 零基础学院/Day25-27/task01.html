<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>

</head>

<body>
  <!-- 我们现在来做一个最简单的时钟，通过小练习来学习 Date，复习定时，然后再练习一下函数的封装
    具体需求如下：
    
    在页面中显示当前日期及时间，按秒更新
    格式为 YYYY 年 MM 月 DD 日 星期 D HH:mm:ss
    注意位数的补齐，比如：
    -- 假设时间为2008年10月10日星期一的12点12分12秒，显示2008年10月10日星期一 12:12:12
    -- 假设时间为2008年1月1日星期一的3点2分2秒，显示2008年01月01日星期一 03:02:02
    编码过程中，我们希望你注意对函数的封装，尽量让一个函数就做一个事情，而不要把所有的功能、代码揉在一起：
    
    封装一个函数，来根据某个日期返回这一天是星期几
    封装一个函数，把月、日、小时等出现个位数的情况前面补充0，补充为两位，比如1变为01
    封装一个函数，把最后的日期时间，按照要求的格式进行包装
    可能不止上面这些，尽可能地进行功能的解耦和拆解 -->

  <p></p>
  <script>
    var p = document.querySelector('p');

    function getWeek() {
      var myDate = new Date();
      var weekday ={
        "0":"星期日",
        "1":"星期一",
        "2":"星期二",
        "3":"星期三",
        "4":"星期四",
        "5":"星期五",
        "6":"星期六",
      };
      return weekday[myDate.getDay()];
    }

    function appendZero(time) {
      if (time < 10) {
        return "0" + time;
      } else {
        return time;
      }
    }

    

    function getD() {
      var myDate = new Date(),
        year = myDate.getFullYear(),
        month = myDate.getMonth(),
        date = myDate.getDate(),
        hours = myDate.getHours(),
        minutes = myDate.getMinutes(),
        seconds = myDate.getSeconds();
      var date = year + "年" + appendZero(month + 1) + "月" + appendZero(date) + "日" + getWeek() + "&nbsp;" +
        appendZero(hours) + "&#58;" + appendZero(minutes) + "&#58;" + appendZero(seconds) + "&nbsp;" ;
      return date;
    }

    setInterval(function () {
      p.innerHTML = getD();
    }, 1000);
  </script>
</body>

</html>